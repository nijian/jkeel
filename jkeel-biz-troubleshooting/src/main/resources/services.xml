<root>
    <behaviors>
        <dataAccessors>
            <dataAccessor id="Get Contracts Data@JPA_LOAD"
                          iclass="com.github.nijian.jkeel.commons.entity.query.Query"
                          rclass="com.github.nijian.jkeel.biz.troubleshooting.entity.ABC">
            </dataAccessor>
            <dataAccessor id="Count Contracts Data@SPRING_DATA_QUERY_LIST"
                          iclass="com.github.nijian.jkeel.commons.entity.query.Query"
                          rclass="com.github.nijian.jkeel.commons.entity.query.QueryResult">
                <select>select id, name</select>
                <from>from abc t ${id}</from>
                <condition alias="t" name="id" operator="FIRST"/>
            </dataAccessor>
        </dataAccessors>
        <algorithms>
            <algorithm id="xxx@FOO"
                       iclass="com.github.nijian.jkeel.commons.entity.query.Query"
                       rclass="com.github.nijian.jkeel.biz.troubleshooting.entity.ABC">
                <use type="DA" ref="Get Contracts Data@JPA_LOAD"/>
            </algorithm>
        </algorithms>
        <actions>
            <action id="Get ABC ID@POPULATE"
                    iclass="com.github.nijian.jkeel.commons.entity.query.Query"
                    rclass="com.github.nijian.jkeel.commons.entity.query.Query">
                <link type="DA" ref="Get Contracts Data@JPA_LOAD"/>
            </action>
        </actions>
        <services>
            <service id="initQueryContracts">
                <!--<validation id="Get Contracts Data@JKEEL_VALIDATION"/>-->
                <inMapping id="Get Contracts Data@JKEEL_MAPPING"
                           iclass="com.github.nijian.jkeel.commons.entity.query.Query"
                           rclass="com.github.nijian.jkeel.commons.entity.query.Query"/>
                <link id="1" type="AC" ref="Get ABC ID@POPULATE" var="true" out="true">
                    <link id="2" type="DA" ref="Count Contracts Data@SPRING_DATA_QUERY_LIST" var="true"
                          out="true">
                        <param name="a" type="original"/>
                        <!--<param name="b" type="reference" link="1"/>-->
                        <link id="3" type="AL" ref="xxx@FOO" var="true">
                            <param name="a" type="original"/>
                        </link>
                    </link>
                </link>

                <!--<outMapping>-->
                <!--<entryName>Get Contracts Data@JKEEL_MAPPING</entryName>-->
                <!--<name>JKEEL_MAPPING</name>-->
                <!--</outMapping>-->

            </service>
            <service id="queryContracts">
                <link id="10" type="DA" ref="Count Contracts Data@SPRING_DATA_QUERY_LIST" var="true" out="true"/>
            </service>
        </services>
    </behaviors>
</root>
